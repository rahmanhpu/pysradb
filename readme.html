
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>pysradb &#8212; pysradb 0.9.0 documentation</title>
    <link rel="stylesheet" href="_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="Welcome to pysradb’s documentation!" href="index.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pysradb’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pysradb 0.9.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Contents</h2>
    <div class="sidebar-localtoc">
      <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">pysradb</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cli-usage">CLI Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependecies">Dependecies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloading-srametadb">Downloading SRAmetadb</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aspera-client">aspera-client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-pysradb-in-development-mode">Installing pysradb in development mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-pysradb">Using pysradb</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#search">Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-sra-metadata">Getting SRA metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-detailed-sra-metadata">Getting detailed SRA metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-srp-to-gse">Converting SRP to GSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-gsm-to-srp">Converting GSM to SRP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-gsm-to-gse">Converting GSM to GSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-gsm-to-srx">Converting GSM to SRX</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-gsm-to-srr">Converting GSM to SRR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#complete-metadata-for-any-record">Complete Metadata for any record</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-only-the-assay-type">Getting only the assay type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloading-entire-project">Downloading entire project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloading-only-certain-samples-of-interest">Downloading only certain samples of interest</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#demo-notebooks">Demo Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#citation">Citation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmdline.html">CLI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-api-usage.html">Python API Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_scenarios.html">Usage Scenarios</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pysradb</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

    </div>
  </div>
</div>
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to pysradb’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/readme.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="index.html">Docs</a></li>
              
              <li>pysradb</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="pysradb">
<h1>pysradb<a class="headerlink" href="#pysradb" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://zenodo.org/badge/latestdoi/159590788"><img alt="https://zenodo.org/badge/159590788.svg" src="https://zenodo.org/badge/159590788.svg" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/pysradb"><img alt="https://img.shields.io/pypi/v/pysradb.svg?style=flat-square" src="https://img.shields.io/pypi/v/pysradb.svg?style=flat-square" /></a>
<a class="reference external image-reference" href="https://travis-ci.com/saketkc/pysradb"><img alt="https://img.shields.io/travis/saketkc/pysradb.svg?style=flat-square" src="https://img.shields.io/travis/saketkc/pysradb.svg?style=flat-square" /></a>
<a class="reference external image-reference" href="http://bioconda.github.io/recipes/pysradb/README.html"><img alt="https://img.shields.io/badge/install%20with-bioconda-brightgreen.svg?style=flat-square" src="https://img.shields.io/badge/install%20with-bioconda-brightgreen.svg?style=flat-square" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/saketkc/pysradb"><img alt="https://codecov.io/gh/saketkc/pysradb/branch/master/graph/badge.svg?style=flat-square" src="https://codecov.io/gh/saketkc/pysradb/branch/master/graph/badge.svg?style=flat-square" /></a>
<p>Python package for interacting with SRAdb and downloading datasets from SRA.
(python3 only!)</p>
<a href="https://asciinema.org/a/0C3SjYmPTkkemldprUpdVhiKx?speed=5&autoplay=1" target="_blank"><img src="https://asciinema.org/a/0C3SjYmPTkkemldprUpdVhiKx.svg" /></a><div class="section" id="cli-usage">
<h2>CLI Usage<a class="headerlink" href="#cli-usage" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pysradb</span></code> supports command line ussage. The documentation
is in progress. See  <a class="reference external" href="https://github.com/saketkc/pysradb/blob/master/docs/cmdline.rst">cmdline</a> for
some quick usage instructions. See <a class="reference external" href="https://www.saket-choudhary.me/pysradb/quickstart.html#the-full-list-of-possible-pysradb-operations">quickstart</a> for
a list of instructions for each sub-command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb

 Usage: pysradb [OPTIONS] COMMAND [ARGS]...

   pysradb: Query NGS metadata and data from NCBI Sequence Read Archive.

   Citation: Pending.

 Options:
   --version   Show the version and exit.
   -h, --help  Show this message and exit.

 Commands:
   download    Download SRA project (SRPnnnn)
   gse-to-gsm  Get GSM for a GSE
   gse-to-srp  Get SRP for a GSE
   gsm-to-gse  Get GSE for a GSM
   gsm-to-srp  Get SRP for a GSM
   gsm-to-srr  Get SRR for a GSM
   gsm-to-srx  Get SRX for a GSM
   metadata    Fetch metadata for SRA project (SRPnnnn)
   metadb      Download SRAmetadb.sqlite
   search      Search SRA for matching text
   srp-to-gse  Get GSE for a SRP
   srp-to-srr  Get SRR for a SRP
   srp-to-srs  Get SRS for a SRP
   srr-to-gsm  Get GSM for a SRR
   srp-to-srx  Get SRX for a SRP
   srr-to-srp  Get SRP for a SRR
   srr-to-srs  Get SRS for a SRR
   srr-to-srx  Get SRX for a SRR
   srs-to-srx  Get SRX for a SRS
   srx-to-srp  Get SRP for a SRX
   srx-to-srr  Get SRR for a SRX
   srx-to-srs  Get SRS for a SRX
</pre></div>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install stable version using <cite>pip</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install pysradb
</pre></div>
</div>
<p>Alternatively, if you use conda:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install -c bioconda pysradb
</pre></div>
</div>
<p>This step will install all the dependencies except <a class="reference internal" href="#aspera-client">aspera-client</a> (which is not required, but highly recommended).
If you have an existing environment with a lot of pre-installed packages, conda might be <a class="reference external" href="https://github.com/bioconda/bioconda-recipes/issues/13774">slow</a>.
Please consider creating a new enviroment for <code class="docutils literal notranslate"><span class="pre">pysradb</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda create -c bioconda -n pysradb <span class="nv">PYTHON</span><span class="o">=</span><span class="m">3</span> pysradb
</pre></div>
</div>
<div class="section" id="dependecies">
<h3>Dependecies<a class="headerlink" href="#dependecies" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pandas&gt;<span class="o">=</span><span class="m">0</span>.23.4
tqdm&gt;<span class="o">=</span><span class="m">4</span>.28
aspera-client
SRAmetadb.sqlite
</pre></div>
</div>
</div>
<div class="section" id="downloading-srametadb">
<h3>Downloading SRAmetadb<a class="headerlink" href="#downloading-srametadb" title="Permalink to this headline">¶</a></h3>
<p>We need a SQLite database file that has preprocessed metadata made available by the
<a class="reference external" href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-19">SRAdb</a> project.</p>
<p>SRAmetadb can be downloaded using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget -c https://starbuck1.s3.amazonaws.com/sradb/SRAmetadb.sqlite.gz <span class="o">&amp;&amp;</span> gunzip SRAmetadb.sqlite.gz
</pre></div>
</div>
<p>Alternatively, you can also download it using <code class="docutils literal notranslate"><span class="pre">pysradb</span></code>, which by default downloads it into your
current working directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb metadb
</pre></div>
</div>
<p>You can also specify an alternate directory for download by supplying the <code class="docutils literal notranslate"><span class="pre">--out-dir</span> <span class="pre">&lt;OUT_DIR&gt;</span></code> argument.</p>
</div>
<div class="section" id="aspera-client">
<span id="id1"></span><h3>aspera-client<a class="headerlink" href="#aspera-client" title="Permalink to this headline">¶</a></h3>
<p>We strongly recommend using <code class="docutils literal notranslate"><span class="pre">aspera-client</span></code> (which uses UDP) since it <a class="reference external" href="http://www.skullbox.net/tcpudp.php">warrants faster downloads</a> as compared to <code class="docutils literal notranslate"><span class="pre">ftp/http</span></code> based downloads.</p>
<p>PDF intructions are available on IBM’s <a class="reference external" href="https://downloads.asperasoft.com/connect2/">website</a>.</p>
<p>Direct download links:</p>
<ul class="simple">
<li><a class="reference external" href="https://download.asperasoft.com/download/sw/connect/3.8.1/ibm-aspera-connect-3.8.1.161274-linux-g2.12-64.tar.gz">Linux</a></li>
<li><a class="reference external" href="https://download.asperasoft.com/download/sw/connect/3.8.1/IBMAsperaConnectInstaller-3.8.1.161274.dmg">MacOS</a></li>
<li><a class="reference external" href="https://download.asperasoft.com/download/sw/connect/3.8.1/IBMAsperaConnect-ML-3.8.1.161274.msi">Windows:</a></li>
</ul>
<p>Once you download the tar relevant to your OS, say linux, follow these steps to install aspera:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar -zxvf ibm-aspera-connect-3.8.1.161274-linux-g2.12-64.tar.gz
bash ibm-aspera-connect-3.8.1.161274-linux-g2.12-64.sh
Installing IBM Aspera Connect
Deploying IBM Aspera Connect <span class="o">(</span>/home/saket/.aspera/connect<span class="o">)</span> <span class="k">for</span> the current user only.
Install complete.
</pre></div>
</div>
</div>
<div class="section" id="installing-pysradb-in-development-mode">
<h3>Installing pysradb in development mode<a class="headerlink" href="#installing-pysradb-in-development-mode" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -U pandas tqdm
git clone https://github.com/saketkc/pysradb.git
<span class="nb">cd</span> pysradb
pip install -e .
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-pysradb">
<h2>Using pysradb<a class="headerlink" href="#using-pysradb" title="Permalink to this headline">¶</a></h2>
<p>Please see <a class="reference external" href="https://saket-choudhary.me/pysradb/usage_scenarios.html">usage_scenarios</a> for a few usage scenarios.
Here are few hand-picked examples.</p>
<div class="section" id="search">
<h3>Search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h3>
<p>Search for all projects containing “ribosome profiling”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$  pysradb search &quot;ribosome profiling&quot; | head

 study_accession experiment_accession sample_accession run_accession
 DRP000927       DRX002899            DRS002983        DRR003575
 DRP000927       DRX002900            DRS002992        DRR003576
 DRP000927       DRX002901            DRS003001        DRR003577
 DRP000927       DRX002902            DRS003010        DRR003578
 DRP000927       DRX002903            DRS003019        DRR003579
 DRP000927       DRX002904            DRS003028        DRR003580
 DRP000927       DRX002905            DRS003037        DRR003581
 DRP000927       DRX002906            DRS003038        DRR003582
 DRP003075       DRX019536            DRS026974        DRR021383
</pre></div>
</div>
</div>
<div class="section" id="getting-sra-metadata">
<h3>Getting SRA metadata<a class="headerlink" href="#getting-sra-metadata" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb metadata --db ./SRAmetadb.sqlite SRP000941 --assay --desc --expand | head

study_accession experiment_accession sample_accession run_accession library_strategy batch         biomaterial_provider             biomaterial_type cell_type    collection_method differentiation_method                                                                                                                     differentiation_stage                                                                disease                                                          donor_age donor_ethnicity                 donor_health_status                                                                                 donor_id donor_sex line          lineage                                                               medium                                                                                                                                                                                                   molecule     passage                             sample_term_id  sex     source_name              tissue                   tissue_depot tissue_type
SRP000941       SRX006235            SRS004118        SRR018454     ChIP-Seq         NaN           cellular dynamics international  cell line        NaN          NaN               none                                                                                                                                       none                                                                                 none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            embryonic stem cell                                                   mteser                                                                                                                                                                                                   genomic dna  between 30 and 50                   efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006236            SRS004118        SRR018456     ChIP-Seq         NaN           cellular dynamics international  cell line        NaN          NaN               none                                                                                                                                       none                                                                                 none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            embryonic stem cell                                                   mteser                                                                                                                                                                                                   genomic dna  between 30 and 50                   efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006237            SRS004118        SRR018455     ChIP-Seq         NaN           cellular dynamics international  cell line        NaN          NaN               none                                                                                                                                       none                                                                                 none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            embryonic stem cell                                                   mteser                                                                                                                                                                                                   genomic dna  between 30 and 50                   efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006239            SRS004213        SRR019072     Bisulfite-Seq    #2            thomson laboratory               cell line        NaN          NaN               na                                                                                                                                         embryonic stem cell                                                                  none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            na                                                                    tesr                                                                                                                                                                                                     genomic dna  27                                  efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006239            SRS004213        SRR019080     Bisulfite-Seq    #2            thomson laboratory               cell line        NaN          NaN               na                                                                                                                                         embryonic stem cell                                                                  none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            na                                                                    tesr                                                                                                                                                                                                     genomic dna  27                                  efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006239            SRS004213        SRR019081     Bisulfite-Seq    #2            thomson laboratory               cell line        NaN          NaN               na                                                                                                                                         embryonic stem cell                                                                  none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            na                                                                    tesr                                                                                                                                                                                                     genomic dna  27                                  efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006239            SRS004213        SRR019082     Bisulfite-Seq    #2            thomson laboratory               cell line        NaN          NaN               na                                                                                                                                         embryonic stem cell                                                                  none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            na                                                                    tesr                                                                                                                                                                                                     genomic dna  27                                  efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006239            SRS004213        SRR019083     Bisulfite-Seq    #2            thomson laboratory               cell line        NaN          NaN               na                                                                                                                                         embryonic stem cell                                                                  none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            na                                                                    tesr                                                                                                                                                                                                     genomic dna  27                                  efo_0003042     male    NaN                      NaN                      NaN          NaN
SRP000941       SRX006239            SRS004213        SRR019084     Bisulfite-Seq    #2            thomson laboratory               cell line        NaN          NaN               na                                                                                                                                         embryonic stem cell                                                                  none                                                             NaN       NaN                             NaN                                                                                                 NaN      NaN       h1            na                                                                    tesr                                                                                                                                                                                                     genomic dna  27                                  efo_0003042     male    NaN                      NaN                      NaN          NaN
</pre></div>
</div>
</div>
<div class="section" id="getting-detailed-sra-metadata">
<h3>Getting detailed SRA metadata<a class="headerlink" href="#getting-detailed-sra-metadata" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb metadata --db ./SRAmetadb.sqlite SRP075720 --detailed --expand | head

study_accession experiment_accession sample_accession run_accession experiment_title                                  experiment_attribute        taxon_id library_selection library_layout library_strategy library_source  library_name  bases      spots   adapter_spec  avg_read_length developmental_stage retina_id source_name                tissue
SRP075720       SRX1800089           SRS1467259       SRR3587529    GSM2177186: Kcng4_1Ra_A10; Mus musculus; RNA-Seq  GEO Accession: GSM2177186  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         79101650   1582033  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800090           SRS1467260       SRR3587530    GSM2177187: Kcng4_1Ra_A11; Mus musculus; RNA-Seq  GEO Accession: GSM2177187  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         84573650   1691473  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800091           SRS1467261       SRR3587531    GSM2177188: Kcng4_1Ra_A12; Mus musculus; RNA-Seq  GEO Accession: GSM2177188  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         77835550   1556711  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800092           SRS1467262       SRR3587532    GSM2177189: Kcng4_1Ra_A1; Mus musculus; RNA-Seq   GEO Accession: GSM2177189  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         73905150   1478103  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800093           SRS1467263       SRR3587533    GSM2177190: Kcng4_1Ra_A2; Mus musculus; RNA-Seq   GEO Accession: GSM2177190  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         77193150   1543863  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800094           SRS1467264       SRR3587534    GSM2177191: Kcng4_1Ra_A3; Mus musculus; RNA-Seq   GEO Accession: GSM2177191  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         59205550   1184111  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800095           SRS1467265       SRR3587535    GSM2177192: Kcng4_1Ra_A4; Mus musculus; RNA-Seq   GEO Accession: GSM2177192  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         61794700   1235894  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800096           SRS1467266       SRR3587536    GSM2177193: Kcng4_1Ra_A5; Mus musculus; RNA-Seq   GEO Accession: GSM2177193  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         78437650   1568753  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
SRP075720       SRX1800097           SRS1467267       SRR3587537    GSM2177194: Kcng4_1Ra_A6; Mus musculus; RNA-Seq   GEO Accession: GSM2177194  10090     cDNA              SINGLE -       RNA-Seq          TRANSCRIPTOMIC  None         77392700   1547854  None         50.0             p17                 1ra       mus musculus retina__ p17  retina
</pre></div>
</div>
</div>
<div class="section" id="converting-srp-to-gse">
<h3>Converting SRP to GSE<a class="headerlink" href="#converting-srp-to-gse" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb srp-to-gse --db ./SRAmetadb.sqlite SRP075720

study_accession study_alias
SRP075720       GSE81903
</pre></div>
</div>
</div>
<div class="section" id="converting-gsm-to-srp">
<h3>Converting GSM to SRP<a class="headerlink" href="#converting-gsm-to-srp" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb gsm-to-srp --db ./SRAmetadb.sqlite GSM2177186

experiment_alias study_accession
GSM2177186       SRP075720
</pre></div>
</div>
</div>
<div class="section" id="converting-gsm-to-gse">
<h3>Converting GSM to GSE<a class="headerlink" href="#converting-gsm-to-gse" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb gsm-to-gse --db ./SRAmetadb.sqlite GSM2177186

experiment_alias study_alias
GSM2177186       GSE81903
</pre></div>
</div>
</div>
<div class="section" id="converting-gsm-to-srx">
<h3>Converting GSM to SRX<a class="headerlink" href="#converting-gsm-to-srx" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb gsm-to-srx --db ./SRAmetadb.sqlite GSM2177186

experiment_alias experiment_accession
GSM2177186       SRX1800089
</pre></div>
</div>
</div>
<div class="section" id="converting-gsm-to-srr">
<h3>Converting GSM to SRR<a class="headerlink" href="#converting-gsm-to-srr" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb gsm-to-srr --db ./SRAmetadb.sqlite GSM2177186

experiment_alias run_accession
GSM2177186       SRR3587529
</pre></div>
</div>
</div>
<div class="section" id="complete-metadata-for-any-record">
<h3>Complete Metadata for any record<a class="headerlink" href="#complete-metadata-for-any-record" title="Permalink to this headline">¶</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">--detailed</span></code> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb gsm-to-srr --db ./SRAmetadb.sqlite GSM2177186 --detailed --desc --expand

experiment_alias run_accession experiment_accession sample_accession study_accession run_alias      sample_alias study_alias developmental_stage retina_id source_name                tissue
GSM2177186       SRR3587529    SRX1800089           SRS1467259       SRP075720       GSM2177186_r1  GSM2177186   GSE81903    p17                 1ra       mus musculus retina__ p17  retina
</pre></div>
</div>
</div>
<div class="section" id="getting-only-the-assay-type">
<h3>Getting only the assay type<a class="headerlink" href="#getting-only-the-assay-type" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb metadata SRP000941 --db ./SRAmetadb.sqlite --assay  | tr -s &#39;  &#39; | cut -f5 -d &#39; &#39; | sort | uniq -c

999 Bisulfite-Seq
768 ChIP-Seq
  1 library_strategy
121 OTHER
353 RNA-Seq
 28 WGS
</pre></div>
</div>
</div>
<div class="section" id="downloading-entire-project">
<h3>Downloading entire project<a class="headerlink" href="#downloading-entire-project" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pysradb</span></code> makes it super easy to download datasets from SRA.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb download --db ./SRAmetadb.sqlite --out-dir ./pysradb_downloads -p SRP063852
</pre></div>
</div>
<p>Downloads are organized by <code class="docutils literal notranslate"><span class="pre">SRP/SRX/SRR</span></code> mimicking the hiererachy of SRA projects.</p>
</div>
<div class="section" id="downloading-only-certain-samples-of-interest">
<h3>Downloading only certain samples of interest<a class="headerlink" href="#downloading-only-certain-samples-of-interest" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pysradb metadata SRP000941 --assay | grep &#39;study\|RNA-Seq&#39; | pysradb download
</pre></div>
</div>
<p>This will download all <code class="docutils literal notranslate"><span class="pre">RNA-seq</span></code> samples coming from this project using <code class="docutils literal notranslate"><span class="pre">aspera-client</span></code>, if available.
Alternatively, it can also use <code class="docutils literal notranslate"><span class="pre">wget</span></code>.</p>
</div>
</div>
<div class="section" id="demo-notebooks">
<h2>Demo Notebooks<a class="headerlink" href="#demo-notebooks" title="Permalink to this headline">¶</a></h2>
<p>These notebooks document all the possible features of <cite>pysradb</cite>:</p>
<ol class="arabic simple">
<li><a class="reference external" href="https://nbviewer.jupyter.org/github/saketkc/pysradb/blob/master/notebooks/01.SRAdb-demo.ipynb">Python API usage</a></li>
<li><a class="reference external" href="https://nbviewer.jupyter.org/github/saketkc/pysradb/blob/master/notebooks/03.CommandLine-demo.ipynb">Command line usage</a></li>
</ol>
</div>
<div class="section" id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>Choudhary, S. (2019, March 16). pysradb: A Python package to query next-generation sequencing metadata and data from NCBI Sequence Read Archive. Cold Spring Harbor Laboratory. Retrieved from <a class="reference external" href="http://dx.doi.org/10.1101/578500">http://dx.doi.org/10.1101/578500</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">Choudhary2019</span><span class="p">,</span>
  <span class="n">doi</span> <span class="o">=</span> <span class="p">{</span><span class="mf">10.1101</span><span class="o">/</span><span class="mi">578500</span><span class="p">},</span>
  <span class="n">url</span> <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">doi</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="mf">10.1101</span><span class="o">/</span><span class="mi">578500</span><span class="p">},</span>
  <span class="n">year</span>  <span class="o">=</span> <span class="p">{</span><span class="mi">2019</span><span class="p">},</span>
  <span class="n">month</span> <span class="o">=</span> <span class="p">{</span><span class="n">mar</span><span class="p">},</span>
  <span class="n">publisher</span> <span class="o">=</span> <span class="p">{</span><span class="n">Cold</span> <span class="n">Spring</span> <span class="n">Harbor</span> <span class="n">Laboratory</span><span class="p">},</span>
  <span class="n">author</span> <span class="o">=</span> <span class="p">{</span><span class="n">Saket</span> <span class="n">Choudhary</span><span class="p">},</span>
  <span class="n">title</span> <span class="o">=</span> <span class="p">{</span><span class="n">pysradb</span><span class="p">:</span> <span class="n">A</span> <span class="n">Python</span> <span class="n">package</span> <span class="n">to</span> <span class="n">query</span> <span class="nb">next</span><span class="o">-</span><span class="n">generation</span> <span class="n">sequencing</span> <span class="n">metadata</span> <span class="ow">and</span> <span class="n">data</span> <span class="kn">from</span> <span class="p">{</span><span class="n">NCBI</span><span class="p">}</span> <span class="n">Sequence</span> <span class="n">Read</span> <span class="n">Archive</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Zenodo archive: <a class="reference external" href="https://zenodo.org/badge/latestdoi/159590788">https://zenodo.org/badge/latestdoi/159590788</a></p>
<p>Zenodo DOI: 10.5281/zenodo.2306881</p>
<p>A lot of functionality in <code class="docutils literal notranslate"><span class="pre">pysradb</span></code> is based on ideas from the original <a class="reference external" href="https://bioconductor.org/packages/release/bioc/html/SRAdb.html">SRAdb package</a>. Please cite the original SRAdb publication:</p>
<blockquote>
<div>Zhu, Yuelin, Robert M. Stephens, Paul S. Meltzer, and Sean R. Davis. “SRAdb: query and use public next-generation sequencing data from within R.” BMC bioinformatics 14, no. 1 (2013): 19.</div></blockquote>
<ul class="simple">
<li>Free software: BSD license</li>
<li>Documentation: <a class="reference external" href="https://saketkc.github.io/pysradb">https://saketkc.github.io/pysradb</a></li>
</ul>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="index.html" title="previous chapter (use the left arrow)">Welcome to pysradb’s documentation!</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="installation.html" title="next chapter (use the right arrow)">Installation</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pysradb’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pysradb 0.9.0 documentation</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2018, Saket Choudhary. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>